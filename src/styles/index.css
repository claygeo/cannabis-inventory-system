@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import component-specific styles */
@import './components.css';
@import './labels.css';

/* Custom CSS Variables - Dark Theme */
:root {
  /* Primary Colors */
  --bg-primary: #15161B;      /* Main dark background */
  --bg-secondary: #181B22;    /* Cards/containers */
  --bg-accent: #86EFAC;       /* Bright mint green - buttons/highlights */
  
  /* Text Colors */
  --text-primary: #FAFCFB;    /* Main text (off-white) */
  --text-secondary: #9FA3AC;  /* Secondary text (light gray) */
  --text-on-accent: #00001C;  /* Text on green buttons (dark) */
  
  /* Border & Dividers */
  --border-primary: #39414E;  /* Default borders/dividers */
  
  /* Status Colors */
  --success-bg: #10B981;
  --success-text: #D1FAE5;
  --error-bg: #EF4444;
  --error-text: #FEE2E2;
  --warning-bg: #F59E0B;
  --warning-text: #FEF3C7;
  --info-bg: #3B82F6;
  --info-text: #DBEAFE;
}

/* Base styles */
@layer base {
  html {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
  }
  
  body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
  }

  * {
    box-sizing: border-box;
  }

  #root {
    min-height: 100vh;
    background-color: var(--bg-primary);
  }
}

/* Component layer for reusable components */
@layer components {
  /* Background utilities */
  .bg-primary {
    background-color: var(--bg-primary);
  }

  .bg-secondary {
    background-color: var(--bg-secondary);
  }

  .bg-accent {
    background-color: var(--bg-accent);
  }

  /* Text utilities */
  .text-primary {
    color: var(--text-primary);
  }

  .text-secondary {
    color: var(--text-secondary);
  }

  .text-on-accent {
    color: var(--text-on-accent);
  }

  /* Border utilities */
  .border-border-primary {
    border-color: var(--border-primary);
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg shadow-sm transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    background-color: var(--bg-accent);
    color: var(--text-on-accent);
    @apply hover:opacity-90 focus:ring-2;
    box-shadow: 0 0 0 2px var(--bg-accent);
  }

  .btn-secondary {
    background-color: var(--bg-secondary);
    color: var(--text-primary);
    border: 1px solid var(--border-primary);
    @apply hover:bg-opacity-80 focus:ring-2;
  }

  .btn-success {
    background-color: var(--success-bg);
    color: var(--success-text);
    @apply hover:opacity-90 focus:ring-green-500;
  }

  .btn-warning {
    background-color: var(--warning-bg);
    color: var(--warning-text);
    @apply hover:opacity-90 focus:ring-yellow-500;
  }

  .btn-error {
    background-color: var(--error-bg);
    color: var(--error-text);  
    @apply hover:opacity-90 focus:ring-red-500;
  }

  .btn-sm {
    @apply px-3 py-1.5 text-xs;
  }

  .btn-lg {
    @apply px-6 py-3 text-base;
  }

  /* Cards */
  .card {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    @apply rounded-xl shadow-sm p-6;
  }

  .card-header {
    @apply pb-4 mb-4;
    border-bottom: 1px solid var(--border-primary);
  }

  .card-body {
    @apply space-y-4;
  }

  .card-footer {
    @apply pt-4 mt-4;
    border-top: 1px solid var(--border-primary);
  }

  /* Forms */
  .form-group {
    @apply space-y-2;
  }

  .form-label {
    @apply block text-sm font-medium;
    color: var(--text-primary);
  }

  .form-label-required::after {
    color: var(--error-bg);
    @apply ml-1;
    content: "*";
  }

  .input {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    @apply block w-full px-3 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-2 transition-colors duration-200;
    box-shadow: 0 0 0 2px transparent;
  }

  .input:focus {
    border-color: var(--bg-accent);
    box-shadow: 0 0 0 2px var(--bg-accent);
  }

  .input::placeholder {
    color: var(--text-secondary);
  }

  .input-error {
    border-color: var(--error-bg);
  }

  .input-error:focus {
    box-shadow: 0 0 0 2px var(--error-bg);
  }

  .input-success {
    border-color: var(--success-bg);
  }

  .input-success:focus {
    box-shadow: 0 0 0 2px var(--success-bg);
  }

  .form-error {
    @apply text-sm mt-1;
    color: var(--error-text);
  }

  .form-help {
    @apply text-sm mt-1;
    color: var(--text-secondary);
  }

  /* Select */
  .select {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    @apply block w-full pl-3 pr-10 py-2 text-base focus:outline-none focus:ring-2 rounded-lg;
  }

  .select:focus {
    border-color: var(--bg-accent);
    box-shadow: 0 0 0 2px var(--bg-accent);
  }

  /* Textarea */
  .textarea {
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
    color: var(--text-primary);
    @apply block w-full px-3 py-2 rounded-lg shadow-sm focus:outline-none focus:ring-2 resize-vertical;
  }

  .textarea:focus {
    border-color: var(--bg-accent);
    box-shadow: 0 0 0 2px var(--bg-accent);
  }

  .textarea::placeholder {
    color: var(--text-secondary);
  }

  /* Badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .badge-blue {
    background-color: var(--info-bg);
    color: var(--info-text);
  }

  .badge-green {
    background-color: var(--success-bg);
    color: var(--success-text);
  }

  .badge-yellow {
    background-color: var(--warning-bg);
    color: var(--warning-text);
  }

  .badge-red {
    background-color: var(--error-bg);
    color: var(--error-text);
  }

  .badge-gray {
    background-color: var(--bg-secondary);
    color: var(--text-secondary);
    border: 1px solid var(--border-primary);
  }

  .badge-purple {
    @apply bg-purple-100 text-purple-800;
  }

  /* Tables */
  .table {
    @apply min-w-full divide-y;
    border-color: var(--border-primary);
  }

  .table-header {
    background-color: var(--bg-secondary);
  }

  .table-header th {
    @apply px-6 py-3 text-left text-xs font-medium uppercase tracking-wider;
    color: var(--text-secondary);
  }

  .table-body {
    background-color: var(--bg-primary);
    border-color: var(--border-primary);
  }

  .table-body td {
    @apply px-6 py-4 whitespace-nowrap text-sm;
    color: var(--text-primary);
  }

  .table-row-hover {
    @apply hover:bg-opacity-50 transition-colors duration-150;
    background-color: var(--bg-secondary);
  }

  /* Alerts */
  .alert {
    @apply rounded-lg p-4 border-l-4;
  }

  .alert-info {
    background-color: var(--info-bg);
    border-color: var(--info-bg);
    color: var(--info-text);
  }

  .alert-success {
    background-color: var(--success-bg);
    border-color: var(--success-bg);
    color: var(--success-text);
  }

  .alert-warning {
    background-color: var(--warning-bg);
    border-color: var(--warning-bg);
    color: var(--warning-text);
  }

  .alert-error {
    background-color: var(--error-bg);
    border-color: var(--error-bg);
    color: var(--error-text);
  }

  /* Loading */
  .loading-spinner {
    @apply animate-spin rounded-full h-8 w-8 border-b-2;
    border-color: var(--bg-accent);
  }

  .loading-dot {
    @apply inline-block w-2 h-2 rounded-full animate-pulse;
    background-color: var(--bg-accent);
  }

  /* Modal backdrop */
  .modal-backdrop {
    @apply fixed inset-0 bg-opacity-75 transition-opacity z-50;
    background-color: var(--bg-primary);
  }

  .modal-container {
    @apply fixed inset-0 z-50 overflow-y-auto;
  }

  .modal-wrapper {
    @apply flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0;
  }

  .modal-content {
    @apply relative transform overflow-hidden rounded-lg shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-primary);
  }

  /* Progress bars */
  .progress-bar {
    @apply w-full rounded-full h-2.5;
    background-color: var(--bg-secondary);
  }

  .progress-fill {
    @apply h-2.5 rounded-full transition-all duration-300;
  }

  .progress-fill-blue {
    background-color: var(--info-bg);
  }

  .progress-fill-green {
    background-color: var(--success-bg);
  }

  /* Dividers */
  .divider {
    @apply my-6;
    border-color: var(--border-primary);
  }

  .divider-vertical {
    @apply mx-6;
    border-color: var(--border-primary);
  }

  /* Header Component */
  .header {
    background-color: var(--bg-secondary);
    border-bottom: 1px solid var(--border-primary);
    @apply shadow-sm sticky top-0 z-40;
  }

  .header-container {
    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
  }

  .header-content {
    @apply flex justify-between items-center h-16;
  }

  .header-logo {
    @apply flex items-center space-x-3;
  }

  .header-title {
    @apply text-xl font-bold;
    color: var(--text-primary);
  }

  .header-subtitle {
    @apply text-sm;
    color: var(--text-secondary);
  }

  .header-nav {
    @apply flex items-center space-x-6;
  }

  .header-nav-link {
    @apply px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200;
    color: var(--text-secondary);
  }

  .header-nav-link:hover {
    color: var(--text-primary);
  }

  .header-nav-link-active {
    color: var(--bg-accent);
    background-color: rgba(134, 239, 172, 0.1);
  }

  .header-user {
    @apply flex items-center space-x-3;
  }

  .header-user-info {
    @apply text-right;
  }

  .header-user-name {
    @apply text-sm font-medium;
    color: var(--text-primary);
  }

  .header-user-role {
    @apply text-xs;
    color: var(--text-secondary);
  }
}

/* Utility layer for custom utilities */
@layer utilities {
  .text-shadow {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .text-shadow-lg {
    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }

  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  .truncate-2-lines {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .truncate-3-lines {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Custom focus rings */
  .focus-ring {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    --tw-ring-color: var(--bg-accent);
  }

  .focus-ring-red {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    --tw-ring-color: var(--error-bg);
  }

  .focus-ring-green {
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
    --tw-ring-color: var(--success-bg);
  }

  /* Animation utilities */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-in-out;
  }

  .animate-slide-up {
    animation: slideUp 0.3s ease-out;
  }

  .animate-slide-down {
    animation: slideDown 0.3s ease-out;
  }

  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Print utilities */
  @media print {
    .print-hidden {
      display: none !important;
    }

    .print-visible {
      display: block !important;
    }

    .print-break-before {
      page-break-before: always;
    }

    .print-break-after {
      page-break-after: always;
    }

    .print-break-inside-avoid {
      page-break-inside: avoid;
    }
  }

  /* Dark theme scrollbars */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--bg-primary);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--border-primary);
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--text-secondary);
  }
}

/* Responsive utilities */
@media (max-width: 640px) {
  .mobile-hidden {
    @apply hidden;
  }
  
  .mobile-visible {
    @apply block;
  }
}

@media (min-width: 641px) {
  .mobile-only {
    @apply hidden;
  }
}

/* Focus states for accessibility */
.focus-visible {
  @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  --tw-ring-color: var(--bg-accent);
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  .card {
    @apply border-2;
  }
  
  .btn {
    @apply border-2;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}